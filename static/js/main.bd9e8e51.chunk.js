(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{32:function(e,t,a){},33:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),c=a(17),r=a.n(c),i=(a(32),a(12)),o=(a(33),a(19)),u=a(14),l=a(15),d=a(21),j=a.n(d),b=a(22),m=a.n(b),h=a.p+"static/media/logo.d0f1ae30.svg",p=a(23),f=(a(38),a(3));function g(e){var t=j()(2),a=t.buttonProps,n=t.isOpen;return Object(f.jsxs)("div",{className:"header-container",children:[Object(f.jsx)("div",{className:"header-title",children:Object(f.jsx)("img",{src:h,alt:"App logo"})}),Object(f.jsx)("button",Object(o.a)(Object(o.a)({},a),{},{className:"header-menu header-btn",children:Object(f.jsx)(u.a,{icon:l.a})})),Object(f.jsxs)("div",{className:n?"visible":"",role:"menu",children:[Object(f.jsxs)("a",{href:"#",onClick:function(){return e.changeColorMode()},children:["Dark Mode",Object(f.jsx)("div",{className:"menuoption",children:Object(f.jsx)(m.a,{value:!e.isColorLightMode,onToggle:function(){return e.changeColorMode()}})})]}),Object(f.jsx)("div",{className:"divider"}),Object(f.jsx)("a",{href:"#",onClick:function(){Object(p.confirmAlert)({title:"Logout",message:"Are you sure you want to log out?",overlayClassName:e.isColorLightMode?"":"darkmode",buttons:[{label:"Log Out",onClick:function(){e.logoutUser()}},{label:"Cancel",onClick:function(){}}]})},children:"Sign Out"})]})]})}var O=a(18),x=a.n(O),v=a(24);function N(e){var t=e.messages,a=e.user,n=e.dummy;return Object(f.jsxs)("div",{className:"chatarea-container",children:[t&&t.map((function(e){var t=e.uid===a.uid?"sent":"received";return Object(f.jsxs)("div",{className:"textdisplay ".concat(t),children:[Object(f.jsx)("img",{title:e.displayName,className:"userimg",alt:"User face",src:e.photoURL}),Object(f.jsx)("p",{children:e.text})]},e.id)})),Object(f.jsx)("span",{ref:n})]})}function y(e){return Object(f.jsxs)("form",{onSubmit:function(t){return e.submitMessageForm(t)},children:[Object(f.jsx)("input",{type:"text",value:e.message||"",className:"input",onChange:function(t){return e.setMessages(t.target.value)}}),Object(f.jsx)("button",{className:"sendmsg-btn primary-btn",type:"submit",children:Object(f.jsx)(u.a,{icon:l.b})})]})}var C=a(25);function k(e){var t=e.user,a=e.firebase,s=e.auth,c=Object(n.useRef)(),r=a.firestore().collection("messages"),o=r.orderBy("createdAt").limit(25),u=Object(C.a)(o,{idField:"id"}),l=Object(i.a)(u,1)[0],d=Object(n.useState)(""),j=Object(i.a)(d,2),b=j[0],m=j[1],h=function(){var e=Object(v.a)(x.a.mark((function e(t){var n,c,i,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!b.trim()){e.next=6;break}return n=s.currentUser,c=n.uid,i=n.photoURL,o=n.displayName,e.next=5,r.add({text:b,createdAt:a.firestore.FieldValue.serverTimestamp(),uid:c,displayName:o,photoURL:i});case 5:m("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c.current.scrollIntoView({behavior:"smooth"})}),[l]),Object(f.jsxs)("div",{children:[Object(f.jsx)(N,{messages:l,dummy:c,user:t,firebase:a}),Object(f.jsx)(y,{setMessages:m,submitMessageForm:h,message:b})]})}a(41);var S=a(9),M=(a(45),a(42),a(27));S.a.apps.length?S.a.app():S.a.initializeApp({apiKey:"AIzaSyAx06l-RknTDjie9ZUV0KnE3pjS2XhiSsI",authDomain:"superchat-f2723.firebaseapp.com",projectId:"superchat-f2723",storageBucket:"superchat-f2723.appspot.com",messagingSenderId:"1081454007055",appId:"1:1081454007055:web:aa5339b4a6ea91e9dfa47a",measurementId:"G-YSB98DSPQQ"});var I=S.a.auth();function L(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(M.a)(I),r=Object(i.a)(c,1)[0],o=a?"lightmode":"darkmode";function u(){return Object(f.jsx)("button",{className:"signin-btn primary-btn",onClick:function(){var e=new S.a.auth.GoogleAuthProvider;I.signInWithPopup(e)},children:"Sign in with Google"})}return Object(f.jsx)("div",{className:"app-container ".concat(o),children:Object(f.jsxs)("div",{className:"main-container",children:[Object(f.jsx)(g,{changeColorMode:function(){s(!a)},logoutUser:function(){S.a.auth().signOut()},isColorLightMode:a}),Object(f.jsx)("div",{className:"messagearea-container",children:r?Object(f.jsx)(k,{auth:I,user:r,firebase:S.a}):Object(f.jsx)(u,{})})]})})}var w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(L,{})}),document.getElementById("root")),w()}},[[44,1,2]]]);
//# sourceMappingURL=main.bd9e8e51.chunk.js.map